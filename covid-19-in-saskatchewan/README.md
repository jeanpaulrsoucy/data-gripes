# Filling in the timeline of COVID-19 in Saskatchewan

Data and code to accompany the post "[Filling in the timeline of COVID-19 in Saskatchewan](https://data.gripe/covid-19-in-saskatchewan/)".

**Update: In addition to the original case dataset, a corresponding dataset (and data processing script) has been added for deaths.**

## Data

Datasets are contained in the directory `data`:

* `sk-case-timeseries-complete.csv`: A complete time series of COVID-19 cases in Saskatchewan using the new zone boundaries (13 zones compared to 6 zones), assembled from the data acquired via Freedom of Information request and a recent copy of the official Saskatchewan dataset.
* `sk-foi-data.csv`: Data extracted from `raw/sk-foi-ocr.pdf` using `extract_tables.R`.
* `sk-case-timeseries-old.csv`: A partial time series of COVID-19 cases in Saskatchewan using the old boundaries (6 zones).
* `sk-case-timeseries-new.csv`: A partial time series of COVID-19 cases in Saskatchewan using the new boundaries (13 zones).

Raw data files are contained in the directory `raw`:

* `sk-foi.pdf`: PDF received through a Freedom of Information request to the Saskatchewan Ministry of Health containing tables of number of daily cases per day in Saskatchewan's 13 zones from the beginning of the COVID-19 pandemic to August 31, 2020.
* `ski-foi-ocr.pdf`: OCR version of the above PDF (OCR performed by [Soda PDF](https://www.sodapdf.com/ocr-pdf/)).
* `cases_2020-09-13.csv`: [Saskatchewan COVID-19 data file](https://dashboard.saskatchewan.ca/health-wellness/covid-19/cases) downloaded on 2020-09-13.
* `cases_2021-07-24.csv`: [Saskatchewan COVID-19 data file](https://dashboard.saskatchewan.ca/health-wellness/covid-19/cases) downloaded on 2021-07-24.
* `health-wellness-covid-19-cases_2020-09-13.json`: [Saskatchewan provincial case time series](https://dashboard.saskatchewan.ca/health-wellness/covid-19/cases) downloaded on 2020-09-13.
* `health-wellness-covid-19-cases_2021-07-24.json`: [Saskatchewan provincial case time series](https://dashboard.saskatchewan.ca/health-wellness/covid-19/cases) downloaded on 2021-07-24.

## Running this code

R is required to run the code in this repository.

The data from the OCR PDF have been provided as `sk-foi.csv`. Optionally, the data extraction and processing may be repeated by running `extract_tables.R`. Note that the `tabulizer` package requires `rJava`.

The complete COVID-19 case timeline dataset using the new boundaries (13 zones) has been provided as `sk-case-timeseries-complete.csv`. Optionally, the data processing may be repeated by running `process_data.R`. The partial time series using old and new boundaries (`sk-case-timeseries-old.csv` and `sk-case-timeseries-new.csv`) are also created using this script.

The main plots (animated GIFs) are generated by `plot_data.R`. These output to the `figures` directory.
